<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Allo85</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Baloo 2',cursive;
  background:linear-gradient(180deg,#38bdf8 0%, #fef08a 60%, #fde68a 100%);
  min-height:100vh;
  padding:20px;
}

.logo{
  text-align:center;
  margin-bottom:10px;
}
.logo img{
  width:150px;
}

h1{
  text-align:center;
  color:#fff;
  text-shadow:3px 3px 0 #0284c7;
  font-size:38px;
  margin-bottom:20px;
}

/* CARTES */
.card{
  background:#fff;
  border-radius:24px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 10px 25px rgba(0,0,0,.2);
}

/* BOUTONS */
.big-btn{
  width:100%;
  padding:22px;
  font-size:22px;
  border-radius:20px;
  border:none;
  margin-bottom:15px;
  color:#fff;
  background:linear-gradient(135deg,#22c55e,#16a34a);
}

.info-btn{
  background:linear-gradient(135deg,#38bdf8,#2563eb);
}

.order-btn{
  background:linear-gradient(135deg,#facc15,#fb7185);
}

/* FORM */
select,input{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:2px solid #38bdf8;
  margin-top:8px;
  font-family:'Baloo 2';
  font-size:16px;
}

label{
  display:block;
  margin-top:14px;
}

.total{
  font-size:26px;
  text-align:center;
  margin-top:16px;
  background:#fef08a;
  padding:10px;
  border-radius:16px;
}

.hidden{display:none}

.option{
  background:#f1f5f9;
  padding:10px;
  border-radius:12px;
  margin-top:8px;
}
</style>
</head>

<body>

<div class="logo">
  <img src="logo.png" alt="Allo85">
</div>

<h1>ğŸŒ´ Allo85</h1>

<!-- ACCUEIL -->
<div id="home" class="card">
  <button class="big-btn">ğŸ‘‹ Bienvenue</button>
  <button class="big-btn info-btn" onclick="show('infos')">â„¹ï¸ Infos</button>
  <button class="big-btn order-btn" onclick="show('commandes')">ğŸ“¦ Commandes</button>
</div>

<!-- INFOS -->
<div id="infos" class="card hidden">
  <h2>â„¹ï¸ Infos</h2>
  <p>
    ğŸ•’ <b>Ouvert 7j/7</b><br>
    Lundi â†’ Dimanche<br>
    <b>14h Ã  2h</b><br><br>

    ğŸ“ Disponible sur <b>Montaigu</b><br><br>

    ğŸšš Livraison possible<br>
    <b>+20â‚¬</b>
  </p>
  <button class="big-btn info-btn" onclick="back()">â¬…ï¸ Retour</button>
</div>

<!-- COMMANDES -->
<div id="commandes" class="card hidden">
  <h2>ğŸ“¦ Commandes</h2>

  <label>CatÃ©gorie</label>
  <select id="type" onchange="calc()">
    <option value="choco">ğŸ«</option>
    <option value="green">ğŸ¥¦</option>
  </select>

  <label>Options</label>
  <div class="option">
    <label><input type="checkbox" data-price="5" onchange="calc()"> Option 1 (+5â‚¬)</label>
  </div>
  <div class="option">
    <label><input type="checkbox" data-price="10" onchange="calc()"> Option 2 (+10â‚¬)</label>
  </div>

  <label>QuantitÃ©</label>
  <input type="number" id="qty" value="1" min="1" onchange="calc()">

  <div class="total">
    Total : <span id="total">50</span> â‚¬
  </div>

  <button class="big-btn order-btn" onclick="sendOrder()">Valider</button>
  <button class="big-btn info-btn" onclick="back()">â¬…ï¸ Retour</button>
</div>

<script>
Telegram.WebApp.ready();

const prices={choco:50,green:60};

function show(id){
  document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

function back(){show('home')}

function calc(){
  let total=prices[type.value];
  document.querySelectorAll('input[type=checkbox]:checked')
    .forEach(o=>total+=parseFloat(o.dataset.price));
  total*=qty.value;
  document.getElementById('total').innerText=total;
}

function sendOrder(){
  let opts=[];
  document.querySelectorAll('input[type=checkbox]:checked')
    .forEach(o=>opts.push(o.parentElement.innerText.trim()));

  const msg=
`ğŸ“¦ COMMANDE ALLO85

CatÃ©gorie : ${type.value === 'choco' ? 'ğŸ«' : 'ğŸ¥¦'}
Options : ${opts.join(', ') || 'Aucune'}
QuantitÃ© : ${qty.value}
Total : ${document.getElementById('total').innerText} â‚¬`;

  Telegram.WebApp.sendData(msg);
  Telegram.WebApp.close();
}

calc();
</script>

</body>
</html>
